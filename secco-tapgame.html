<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SECCO TapBot</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- TON Connect SDK -->
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        .font-inter {
            font-family: 'Inter', sans-serif;
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translate3d(0,0,0);
            }
            40%, 43% {
                transform: translate3d(0,-30px,0);
            }
            70% {
                transform: translate3d(0,-15px,0);
            }
            90% {
                transform: translate3d(0,-4px,0);
            }
        }
        
        .animate-bounce {
            animation: bounce 1s ease-in-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        function MainComponent() {
            const [balance, setBalance] = React.useState(0); // –ù–æ–≤—ã–π –∏–≥—Ä–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç —Å 0
            const [energy, setEnergy] = React.useState(100); // –ü–æ–ª–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞
            const [level, setLevel] = React.useState(1); // –ù–∞—á–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å 1
            const [xp, setXp] = React.useState(0); // –ù–∞—á–∞–ª—å–Ω—ã–π XP 0
            const [maxXp, setMaxXp] = React.useState(5000); // –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–±—É–µ—Ç 5000 XP
            const [timeLeft, setTimeLeft] = React.useState(43200); // 12 —á–∞—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
            const [tapAnimation, setTapAnimation] = React.useState(false);
            const [currentTab, setCurrentTab] = React.useState("–ó–ê–î–ê–ù–ò–Ø");
            const [tonBalance, setTonBalance] = React.useState(0); // –ë–∞–ª–∞–Ω—Å TON
            const [walletConnected, setWalletConnected] = React.useState(false);
            const [tonConnectUI, setTonConnectUI] = React.useState(null);
            const [walletAddress, setWalletAddress] = React.useState("");
            const [showGreeting, setShowGreeting] = React.useState(true); // –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
            const [referralStats, setReferralStats] = React.useState({
                invited: 0,
                activated: 0
            });
            
            // –ó–∞–¥–∞–Ω–∏—è –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –º–æ–Ω–µ—Ç
            const [tasks, setTasks] = React.useState([
                {
                    id: 1,
                    title: "–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —Ç–∞–ø",
                    description: "–¢–∞–ø–Ω–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–µ SECCO",
                    reward: 10,
                    completed: false,
                    progress: 0,
                    maxProgress: 1
                },
                {
                    id: 2,
                    title: "–ó–∞—Ä–∞–±–æ—Ç–∞–π—Ç–µ 100 SECCO",
                    description: "–ù–∞–∫–æ–ø–∏—Ç–µ 100 —Ç–æ–∫–µ–Ω–æ–≤ SECCO",
                    reward: 50,
                    completed: false,
                    progress: 0,
                    maxProgress: 100
                },
                {
                    id: 3,
                    title: "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –¥—Ä—É–≥–∞",
                    description: "–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–æ–π –∏ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞",
                    reward: 100,
                    completed: false,
                    progress: 0,
                    maxProgress: 1
                },
                {
                    id: 4,
                    title: "–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ 2 —É—Ä–æ–≤–Ω—è",
                    description: "–ü–æ–≤—ã—Å—å—Ç–µ —É—Ä–æ–≤–µ–Ω—å, —á—Ç–æ–±—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏",
                    reward: 75,
                    completed: false,
                    progress: 0,
                    maxProgress: 1
                }
            ]);

            const [inviteCode] = React.useState("SECCO72E3MW");
            const inviteLink = `https://t.me/secco_bot?start=${inviteCode}`;

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TON Connect
            React.useEffect(() => {
                if (typeof window.TonConnectUI !== 'undefined') {
                    const tonConnectUI = new window.TonConnectUI({
                        manifestUrl: 'https://secco-tapgame.netlify.app/tonconnect-manifest.json', // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç
                        buttonRootId: 'ton-connect'
                    });

                    setTonConnectUI(tonConnectUI);

                    tonConnectUI.onStatusChange(async (wallet) => {
                        if (wallet) {
                            setWalletConnected(true);
                            setWalletAddress(wallet.account.address);
                            
                            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å–µ—Ä–≤–µ—Ä–∞
                            try {
                                const response = await fetch(`https://secco-api.netlify.app/api/user/${wallet.account.address}`);
                                const userData = await response.json();
                                
                                setBalance(userData.balance);
                                setEnergy(userData.energy);
                                setLevel(userData.level);
                                setXp(userData.xp);
                            } catch (error) {
                                console.error('Error loading user data:', error);
                            }
                        } else {
                            setWalletConnected(false);
                            setWalletAddress("");
                            setTonBalance(0);
                        }
                    });
                }
            }, []);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–¥–∞–Ω–∏–π
            React.useEffect(() => {
                setTasks(prev => prev.map(task => {
                    if (task.id === 1 && balance > 0 && !task.completed) {
                        return { ...task, progress: 1, completed: true };
                    }
                    if (task.id === 2 && !task.completed) {
                        return { ...task, progress: Math.min(balance, task.maxProgress), completed: balance >= 100 };
                    }
                    if (task.id === 4 && level >= 2 && !task.completed) {
                        return { ...task, progress: 1, completed: true };
                    }
                    return task;
                }));
            }, [balance, level]);

            // –¢–∞–π–º–µ—Ä –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏
            React.useEffect(() => {
                const timer = setInterval(() => {
                    setTimeLeft((prev) => (prev > 0 ? prev - 1 : 43200));
                    if (timeLeft === 0) {
                        setEnergy(100);
                    }
                }, 1000);
                return () => clearInterval(timer);
            }, [timeLeft]);

            const formatTime = (seconds) => {
                const hours = Math.floor(seconds / 3600);
                const mins = Math.floor((seconds % 3600) / 60);
                const secs = seconds % 60;
                
                if (hours > 0) {
                    return `${hours}:${mins.toString().padStart(2, "0")}:${secs.toString().padStart(2, "0")}`;
                } else {
                    return `${mins}:${secs.toString().padStart(2, "0")}`;
                }
            };

            const handleTap = () => {
                if (energy > 0) {
                    setBalance((prev) => prev + 1);
                    setEnergy((prev) => Math.max(0, prev - 1));
                    setXp((prev) => prev + 1);

                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –∫–∞–∂–¥—ã–µ 5000 XP
                    if (xp + 1 >= maxXp) {
                        setLevel((prev) => prev + 1);
                        setXp(0);
                        setMaxXp(5000); // –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Ç–∞–∫–∂–µ —Ç—Ä–µ–±—É–µ—Ç 5000 XP
                    }

                    setTapAnimation(true);
                    setTimeout(() => setTapAnimation(false), 500);
                }
            };

            const handleTaskClaim = (taskId) => {
                const task = tasks.find(t => t.id === taskId);
                if (task && task.completed) {
                    setBalance(prev => prev + task.reward);
                    setTasks(prev => prev.map(t => 
                        t.id === taskId ? { ...t, claimed: true } : t
                    ));
                }
            };

            const handleBuyEnergy = async (amount, cost) => {
                if (!walletConnected) {
                    alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ TON!");
                    return;
                }

                try {
                    const confirmed = confirm(`–ö—É–ø–∏—Ç—å ${amount} —ç–Ω–µ—Ä–≥–∏–∏ –∑–∞ ${cost} TON?`);
                    
                    if (confirmed && tonConnectUI) {
                        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º op code –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
                        let opCode;
                        switch (amount) {
                            case 25: opCode = 0x12345601; break;
                            case 50: opCode = 0x12345602; break;
                            case 100: opCode = 0x12345603; break;
                            default: throw new Error("–ù–µ–≤–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–Ω–µ—Ä–≥–∏–∏");
                        }

                        // –†–µ–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —á–µ—Ä–µ–∑ TON Connect
                        const transaction = {
                            validUntil: Date.now() + 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç
                            messages: [
                                {
                                    address: "EQBOxIuUPXHOu1fY0O7uGe9yIIaa0-DRcLIk2qVNa_0tZbFD", // –í–∞—à –∫–æ—à–µ–ª–µ–∫ (–ø–æ–∫–∞ –¥–µ–º–æ, –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –±—É–¥–µ—Ç –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞)
                                    amount: (cost * 1000000000).toString(), // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º TON –≤ nanoTON
                                    payload: btoa(JSON.stringify({
                                        op: opCode,
                                        query_id: Date.now(),
                                        energy_amount: amount,
                                        game: "SECCO_ENERGY_PURCHASE"
                                    }))
                                }
                            ]
                        };

                        const result = await tonConnectUI.sendTransaction(transaction);
                        
                        // –í–∞–ª–∏–¥–∏—Ä—É–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
                        const validationResponse = await fetch('https://secco-api.netlify.app/api/validate-energy-purchase', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({
                                txHash: result.boc,
                                walletAddress: walletAddress,
                                energyAmount: amount,
                                tonAmount: cost
                            })
                        });

                        const validation = await validationResponse.json();
                        
                        if (validation.success) {
                            setEnergy(validation.newEnergy);
                            alert(`–£—Å–ø–µ—à–Ω–æ –∫—É–ø–ª–µ–Ω–æ ${amount} —ç–Ω–µ—Ä–≥–∏–∏!`);
                        } else {
                            alert("–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: " + validation.error);
                        }
                    } else if (confirmed) {
                        // Fallback –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                        alert("–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...");
                        
                        setTimeout(() => {
                            setEnergy(prev => Math.min(100, prev + amount));
                            alert(`–£—Å–ø–µ—à–Ω–æ –∫—É–ø–ª–µ–Ω–æ ${amount} —ç–Ω–µ—Ä–≥–∏–∏!`);
                        }, 2000);
                    }
                } catch (error) {
                    console.error("–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:", error);
                    alert("–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: " + error.message);
                }
            };

            const handleInvite = () => {
                navigator.clipboard
                    ?.writeText(inviteLink)
                    .then(() => alert(`–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!\n${inviteLink}`))
                    .catch(() => alert(`–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:\n${inviteLink}`));
            };

            const handleConnectWallet = async () => {
                try {
                    if (tonConnectUI) {
                        // –ò—Å–ø–æ–ª—å–∑—É–µ–º TON Connect UI
                        await tonConnectUI.connectWallet();
                    } else {
                        // Fallback –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                        setWalletConnected(true);
                        setTonBalance(10);
                        setWalletAddress("UQD_fake_address_for_demo");
                        alert("–ö–æ—à–µ–ª–µ–∫ TON —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!\n–í—ã –ø–æ–ª—É—á–∏–ª–∏ 10 TON –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.");
                    }
                } catch (error) {
                    alert("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª–µ–∫: " + error.message);
                }
            };

            const renderTabContent = () => {
                switch (currentTab) {
                    case "–ó–ê–î–ê–ù–ò–Ø":
                        return React.createElement("div", { className: "px-6 py-4" },
                            React.createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "–ó–∞–¥–∞–Ω–∏—è"),
                            React.createElement("div", { className: "space-y-4" },
                                tasks.map((task) =>
                                    React.createElement("div", {
                                        key: task.id,
                                        className: "bg-white rounded-2xl p-4 shadow-lg"
                                    },
                                        React.createElement("div", { className: "flex justify-between items-start mb-3" },
                                            React.createElement("div", { className: "flex-1" },
                                                React.createElement("h3", { className: "font-bold text-gray-800 mb-1" }, task.title),
                                                React.createElement("p", { className: "text-sm text-gray-600 mb-2" }, task.description),
                                                React.createElement("div", { className: "flex items-center space-x-2" },
                                                    React.createElement("span", { className: "text-xs text-gray-500" }, 
                                                        `${task.progress}/${task.maxProgress}`
                                                    ),
                                                    React.createElement("div", { className: "flex-1 bg-gray-200 rounded-full h-1" },
                                                        React.createElement("div", {
                                                            className: "bg-gradient-to-r from-teal-400 to-teal-500 h-1 rounded-full transition-all duration-300",
                                                            style: { width: `${(task.progress / task.maxProgress) * 100}%` }
                                                        })
                                                    )
                                                )
                                            ),
                                            React.createElement("div", { className: "text-right" },
                                                React.createElement("span", { className: "text-teal-600 font-bold text-sm" }, `+${task.reward}`),
                                                React.createElement("br"),
                                                React.createElement("button", {
                                                    onClick: () => handleTaskClaim(task.id),
                                                    disabled: !task.completed || task.claimed,
                                                    className: `px-3 py-1 rounded-lg text-xs font-bold mt-1 ${
                                                        task.claimed 
                                                            ? "bg-green-500 text-white" 
                                                            : task.completed
                                                                ? "bg-teal-500 text-white hover:bg-teal-600"
                                                                : "bg-gray-300 text-gray-500"
                                                    }`
                                                }, task.claimed ? "–ü–û–õ–£–ß–ï–ù–û" : task.completed ? "–ü–û–õ–£–ß–ò–¢–¨" : "–û–ñ–ò–î–ê–ù–ò–ï")
                                            )
                                        )
                                    )
                                )
                            )
                        );

                    case "–£–°–ò–õ–ï–ù–ò–ï":
                        return React.createElement("div", { className: "px-6 py-4" },
                            React.createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "–£—Å–∏–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏"),
                            React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg mb-6" },
                                React.createElement("div", { className: "text-center mb-4" },
                                    React.createElement("div", { className: "text-lg font-bold text-gray-800" }, "–ë–∞–ª–∞–Ω—Å TON"),
                                    React.createElement("div", { className: "text-2xl font-bold text-blue-600" }, `${tonBalance.toFixed(2)} TON`),
                                    walletConnected && React.createElement("div", { className: "text-xs text-gray-500 mt-1 break-all" }, 
                                        `–ê–¥—Ä–µ—Å: ${walletAddress.slice(0, 6)}...${walletAddress.slice(-6)}`
                                    )
                                ),
                                !walletConnected && React.createElement("button", {
                                    onClick: handleConnectWallet,
                                    className: "w-full bg-blue-500 text-white py-3 rounded-xl font-bold hover:bg-blue-600 mb-4"
                                }, "–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª–µ–∫ TON")
                            ),
                            React.createElement("div", { className: "space-y-4" },
                                React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg" },
                                    React.createElement("div", { className: "flex justify-between items-center" },
                                        React.createElement("div", {},
                                            React.createElement("h3", { className: "font-bold text-gray-800" }, "+25 –≠–Ω–µ—Ä–≥–∏–∏"),
                                            React.createElement("p", { className: "text-sm text-gray-600" }, "–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 25 –µ–¥–∏–Ω–∏—Ü —ç–Ω–µ—Ä–≥–∏–∏")
                                        ),
                                        React.createElement("button", {
                                            onClick: () => handleBuyEnergy(25, 0.5),
                                            disabled: tonBalance < 0.5,
                                            className: `px-4 py-2 rounded-lg font-bold ${
                                                tonBalance >= 0.5
                                                    ? "bg-blue-500 text-white hover:bg-blue-600"
                                                    : "bg-gray-300 text-gray-500"
                                            }`
                                        }, "0.5 TON")
                                    )
                                ),
                                React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg" },
                                    React.createElement("div", { className: "flex justify-between items-center" },
                                        React.createElement("div", {},
                                            React.createElement("h3", { className: "font-bold text-gray-800" }, "+50 –≠–Ω–µ—Ä–≥–∏–∏"),
                                            React.createElement("p", { className: "text-sm text-gray-600" }, "–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å 50 –µ–¥–∏–Ω–∏—Ü —ç–Ω–µ—Ä–≥–∏–∏")
                                        ),
                                        React.createElement("button", {
                                            onClick: () => handleBuyEnergy(50, 1.0),
                                            disabled: tonBalance < 1.0,
                                            className: `px-4 py-2 rounded-lg font-bold ${
                                                tonBalance >= 1.0
                                                    ? "bg-blue-500 text-white hover:bg-blue-600"
                                                    : "bg-gray-300 text-gray-500"
                                            }`
                                        }, "1.0 TON")
                                    )
                                ),
                                React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg" },
                                    React.createElement("div", { className: "flex justify-between items-center" },
                                        React.createElement("div", {},
                                            React.createElement("h3", { className: "font-bold text-gray-800" }, "–ü–æ–ª–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è"),
                                            React.createElement("p", { className: "text-sm text-gray-600" }, "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é –¥–æ 100%")
                                        ),
                                        React.createElement("button", {
                                            onClick: () => handleBuyEnergy(100, 2.0),
                                            disabled: tonBalance < 2.0,
                                            className: `px-4 py-2 rounded-lg font-bold ${
                                                tonBalance >= 2.0
                                                    ? "bg-blue-500 text-white hover:bg-blue-600"
                                                    : "bg-gray-300 text-gray-500"
                                            }`
                                        }, "2.0 TON")
                                    )
                                )
                            )
                        );

                    case "–î–†–£–ó–¨–Ø":
                        return React.createElement("div", { className: "px-6 py-4" },
                            React.createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π"),
                            React.createElement("div", { className: "bg-white rounded-2xl p-6 shadow-lg mb-6" },
                                React.createElement("div", { className: "text-center mb-4" },
                                    React.createElement("h3", { className: "text-lg font-bold text-gray-800 mb-2" }, "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤"),
                                    React.createElement("div", { className: "grid grid-cols-2 gap-4" },
                                        React.createElement("div", { className: "text-center" },
                                            React.createElement("div", { className: "text-2xl font-bold text-teal-600" }, referralStats.invited),
                                            React.createElement("div", { className: "text-sm text-gray-600" }, "–ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ")
                                        ),
                                        React.createElement("div", { className: "text-center" },
                                            React.createElement("div", { className: "text-2xl font-bold text-green-600" }, referralStats.activated),
                                            React.createElement("div", { className: "text-sm text-gray-600" }, "–ù–∞—á–∞–ª–∏ –∏–≥—Ä–∞—Ç—å")
                                        )
                                    )
                                )
                            ),
                            React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg mb-4" },
                                React.createElement("h3", { className: "font-bold text-gray-800 mb-2" }, "–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞"),
                                React.createElement("div", { className: "bg-gray-100 p-3 rounded-lg mb-3 text-sm break-all" }, inviteLink),
                                React.createElement("button", {
                                    onClick: handleInvite,
                                    className: "w-full bg-teal-500 text-white py-3 rounded-xl font-bold hover:bg-teal-600"
                                }, "üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É")
                            ),
                            React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg" },
                                React.createElement("h3", { className: "font-bold text-gray-800 mb-2" }, "–ù–∞–≥—Ä–∞–¥—ã –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤"),
                                React.createElement("ul", { className: "space-y-2 text-sm text-gray-600" },
                                    React.createElement("li", {}, "‚Ä¢ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞: +100 SECCO"),
                                    React.createElement("li", {}, "‚Ä¢ –î—Ä—É–≥ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 2 —É—Ä–æ–≤–Ω—è: +50 SECCO"),
                                    React.createElement("li", {}, "‚Ä¢ –î—Ä—É–≥ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 1000 SECCO: +200 SECCO")
                                )
                            )
                        );

                    case "–ê–ò–†–î–†–û–ü":
                        return React.createElement("div", { className: "px-6 py-4" },
                            React.createElement("h2", { className: "text-2xl font-bold text-gray-800 mb-6" }, "–ê–∏—Ä–¥—Ä–æ–ø"),
                            React.createElement("div", { className: "bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl p-6 shadow-lg mb-6 text-white" },
                                React.createElement("div", { className: "text-center" },
                                    React.createElement("h3", { className: "text-xl font-bold mb-2" }, "üéÅ –ê–∏—Ä–¥—Ä–æ–ø SECCO"),
                                    React.createElement("p", { className: "text-sm opacity-90 mb-4" }, "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à –∫–æ—à–µ–ª–µ–∫ TON –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–º –∞–∏—Ä–¥—Ä–æ–ø–µ —Ç–æ–∫–µ–Ω–æ–≤ SECCO!")
                                )
                            ),
                            React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg mb-4" },
                                React.createElement("h3", { className: "font-bold text-gray-800 mb-3" }, "–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞"),
                                walletConnected 
                                    ? React.createElement("div", { className: "text-center" },
                                        React.createElement("div", { className: "text-green-600 font-bold mb-2" }, "‚úÖ –ö–æ—à–µ–ª–µ–∫ TON –ø–æ–¥–∫–ª—é—á–µ–Ω"),
                                        React.createElement("div", { className: "text-sm text-gray-600" }, "–í—ã –∏–º–µ–µ—Ç–µ –ø—Ä–∞–≤–æ –Ω–∞ –∞–∏—Ä–¥—Ä–æ–ø!")
                                    )
                                    : React.createElement("div", {},
                                        React.createElement("p", { className: "text-sm text-gray-600 mb-3" }, "–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à –∫–æ—à–µ–ª–µ–∫ TON, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º –∞–∏—Ä–¥—Ä–æ–ø–∞ SECCO"),
                                        React.createElement("button", {
                                            onClick: handleConnectWallet,
                                            className: "w-full bg-blue-500 text-white py-3 rounded-xl font-bold hover:bg-blue-600"
                                        }, "üîó –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª–µ–∫ TON")
                                    )
                            ),
                            React.createElement("div", { className: "bg-white rounded-2xl p-4 shadow-lg" },
                                React.createElement("h3", { className: "font-bold text-gray-800 mb-3" }, "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∏—Ä–¥—Ä–æ–ø–µ"),
                                React.createElement("div", { className: "space-y-3 text-sm" },
                                    React.createElement("div", { className: "flex justify-between" },
                                        React.createElement("span", { className: "text-gray-600" }, "–û–±—â–∏–π –ø—É–ª –∞–∏—Ä–¥—Ä–æ–ø–∞:"),
                                        React.createElement("span", { className: "font-bold" }, "10,000,000 SECCO")
                                    ),
                                    React.createElement("div", { className: "flex justify-between" },
                                        React.createElement("span", { className: "text-gray-600" }, "–í–∞—à —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å:"),
                                        React.createElement("span", { className: "font-bold text-teal-600" }, `${balance.toLocaleString()} SECCO`)
                                    ),
                                    React.createElement("div", { className: "flex justify-between" },
                                        React.createElement("span", { className: "text-gray-600" }, "–î–∞—Ç–∞ –∞–∏—Ä–¥—Ä–æ–ø–∞:"),
                                        React.createElement("span", { className: "font-bold" }, "–ë—É–¥–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∞")
                                    ),
                                    React.createElement("hr", { className: "my-3" }),
                                    React.createElement("p", { className: "text-xs text-gray-500" }, 
                                        "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∏—Ä–¥—Ä–æ–ø–∞ –±—É–¥–µ—Ç –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –≤–∞—à–µ–π –∏–≥—Ä–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —Ä–µ—Ñ–µ—Ä–∞–ª–∞—Ö –∏ –±–∞–ª–∞–Ω—Å–µ SECCO –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–Ω–∞–ø—à–æ—Ç–∞."
                                    )
                                )
                            )
                        );

                    default:
                        return React.createElement("div", {}, "Loading...");
                }
            };

            return (
                <div
                    className="min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 font-inter"
                    style={{
                        width: "100%",
                        maxWidth: "390px",
                        height: "100vh",
                        margin: "0 auto",
                        position: "relative",
                        overflow: "hidden",
                    }}
                >
                    {/* Greeting Modal */}
                    {showGreeting && (
                        <div className="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
                            <div className="bg-white rounded-3xl p-8 mx-6 text-center shadow-2xl">
                                <div className="text-6xl mb-4">üëã</div>
                                <h2 className="text-2xl font-bold text-gray-800 mb-3">–ü—Ä–∏–≤–µ—Ç!</h2>
                                <p className="text-gray-600 mb-6 leading-relaxed">
                                    –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ SECCO Tap Game!<br/>
                                    –¢–∞–ø–∞–π—Ç–µ, –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏ –ø–æ–±–µ–∂–¥–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏.
                                </p>
                                <button
                                    onClick={() => setShowGreeting(false)}
                                    className="bg-gradient-to-r from-blue-500 to-teal-500 text-white px-8 py-3 rounded-xl font-bold hover:from-blue-600 hover:to-teal-600 transition-all duration-200"
                                >
                                    –ù–∞—á–∞—Ç—å –∏–≥—Ä—É üéÆ
                                </button>
                            </div>
                        </div>
                    )}
                    {/* Top Section */}
                    <div className="flex justify-between items-center p-6 pt-16">
                        <div className="flex items-center space-x-3">
                            <div className="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center relative">
                                <span className="text-white font-bold text-lg">$</span>
                                <div className="absolute inset-0 rounded-full border-2 border-blue-300 opacity-50"></div>
                                <div className="absolute -inset-2 rounded-full border border-blue-200 opacity-30"></div>
                            </div>
                            <span className="text-2xl font-bold text-gray-800">SECCO</span>
                        </div>

                        <div className="bg-white rounded-full px-4 py-2 flex items-center space-x-2 shadow-lg">
                            <div className="w-8 h-8 bg-gradient-to-br from-teal-400 to-teal-500 rounded-full flex items-center justify-center">
                                <span className="text-white text-sm font-bold">{level}</span>
                            </div>
                            <div>
                                <div className="text-sm font-bold text-gray-800">–£—Ä–æ–≤–µ–Ω—å {level}</div>
                                <div className="text-xs text-gray-500">
                                    {xp.toLocaleString()} / {maxXp.toLocaleString()}
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Balance Section */}
                    <div className="text-center mt-8 mb-12">
                        <div className="flex items-center justify-center space-x-3">
                            <span className="text-6xl font-bold text-gray-800">
                                {balance.toLocaleString()}
                            </span>
                            <div className="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-full flex items-center justify-center">
                                <span className="text-white text-xl font-bold">$</span>
                            </div>
                        </div>
                    </div>

                    {/* Tap Area with Energy */}
                    <div className="flex justify-center items-center mb-12 px-6">
                        <div className="relative">
                            <button
                                onClick={handleTap}
                                className={`w-40 h-40 bg-white rounded-full flex items-center justify-center transition-all duration-200 cursor-pointer ${tapAnimation ? "scale-110" : "scale-100"} hover:scale-105 ${energy === 0 ? "opacity-50" : ""}`}
                                style={{
                                    boxShadow: "0 20px 40px rgba(0,0,0,0.1), inset 0 2px 8px rgba(255,255,255,0.8)"
                                }}
                            >
                                <div className="w-20 h-12 bg-gradient-to-br from-teal-400 to-teal-600 rounded-lg flex items-center justify-center transform -rotate-12 pointer-events-none">
                                    <span className="text-white text-2xl font-bold">$</span>
                                </div>
                            </button>

                            <div className="absolute inset-0 w-40 h-40 rounded-full border-4 border-blue-200 opacity-50 pointer-events-none"></div>

                            {tapAnimation && (
                                <div className="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-8 text-teal-500 font-bold animate-bounce pointer-events-none">
                                    +1 SECCO
                                </div>
                            )}
                        </div>

                        <div className="ml-8">
                            <div className="text-right mb-2">
                                <div className="text-lg font-bold text-gray-800">–≠–ù–ï–†–ì–ò–Ø</div>
                                <div className="text-2xl font-bold text-gray-800">
                                    {energy} / 100
                                </div>
                            </div>
                            <div className="w-32 bg-gray-200 rounded-full h-2 mb-2">
                                <div
                                    className="bg-gradient-to-r from-teal-400 to-teal-500 h-2 rounded-full transition-all duration-300"
                                    style={{ width: `${energy}%` }}
                                ></div>
                            </div>
                            <div className="text-sm text-gray-600 text-right">
                                –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: {formatTime(timeLeft)}
                            </div>
                        </div>
                    </div>

                    {/* Dynamic Content */}
                    <div
                        className="flex-1 overflow-y-auto"
                        style={{ height: "calc(100% - 400px)" }}
                    >
                        {renderTabContent()}
                    </div>

                    {/* Bottom Navigation */}
                    <div className="absolute bottom-0 left-0 right-0 bg-white rounded-t-3xl px-4 py-3 shadow-2xl">
                        <div className="flex justify-around items-center">
                            {[
                                { icon: "‚úÖ", label: "–ó–ê–î–ê–ù–ò–Ø" },
                                { icon: "üöÄ", label: "–£–°–ò–õ–ï–ù–ò–ï" },
                                { icon: "üë•", label: "–î–†–£–ó–¨–Ø" },
                                { icon: "üéÅ", label: "–ê–ò–†–î–†–û–ü" },
                            ].map((tab, index) => (
                                React.createElement("button", {
                                    key: index,
                                    onClick: () => setCurrentTab(tab.label),
                                    className: `flex flex-col items-center py-2 px-3 transition-all duration-200 ${
                                        currentTab === tab.label ? "text-blue-600" : "text-gray-400"
                                    }`
                                },
                                    React.createElement("div", {
                                        className: `w-8 h-8 rounded-lg flex items-center justify-center mb-1 ${
                                            currentTab === tab.label
                                                ? "bg-blue-600 text-white"
                                                : "bg-transparent"
                                        }`
                                    },
                                        React.createElement("span", { className: "text-lg" }, tab.icon)
                                    ),
                                    React.createElement("span", { className: "text-xs font-medium" }, tab.label)
                                )
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(React.createElement(MainComponent), document.getElementById('root'));
    </script>
</body>
</html>
